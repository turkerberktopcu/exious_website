<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>EXIUS - Hakkımızda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <!-- Google Fonts & Ana Stil -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="css/style.css"/>
  <link rel="stylesheet" href="components/header/header.css"/>
  <link rel="stylesheet" href="css/hakkimizda.css"/>
</head>
<body>
  <!-- Three.js Arka Plan -->
   <canvas id="bg-canvas"></canvas>
    <div class="blur-circle blur-circle-1"></div>
    <div class="blur-circle blur-circle-2"></div>
    <div class="blur-circle blur-circle-3"></div>
    <div class="blur-circle blur-circle-4"></div>
    
  <!-- Header (Mevcut Bileşen) -->
  <header-component></header-component>

  <!-- HERO BÖLÜMÜ -->
<section id="about-hero" class="about-hero active new-hero">
  <div class="about-hero-content">
    <span class="about-hero-label">CONTACT</span>
    <h1 class="about-hero-title">Get in touch for any support and inquiries</h1>
    <div class="hero-line"></div>
    <p class="about-hero-subtitle">
      We’re all ears! Talk to us about your needs, and we’ll provide the best possible solution.
    </p>
  </div>
</section>


  <!-- HİKAYE BÖLÜMÜ -->
<section id="story-section" class="story-section active section">
  <div id="story-container" class="story-container">
    <!-- Sol Kolon: Hikaye Metni -->
    <div class="story-text">
      <h2 id="story-heading"></h2>
      <p id="story-content"></p>
      <ul id="story-list"></ul>
    </div>
    <!-- Sağ Kolon: Animasyonlu Resim -->
    <div class="story-object">
      <img 
        id="animated-image" 
        src="assets/images/story-bg.png" 
        alt="EXIUS Sphere" 
      />
    </div>
  </div>


    <div id="team-container" class="team-container" style="margin-top: 20%; margin-bottom: 10%;">
      <h2 id="team-heading"></h2>
      <!-- Team üyeleri dinamik olarak yüklenecek -->
      <div id="team-members"></div>
    </div>
</section>


  <!-- EKİP BÖLÜMÜ -->
  

  <!-- Footer (Mevcut Bileşen) -->
  <footer-component></footer-component>

  <!-- Loader -->
  <div id="loader" class="loader-overlay" style="display:none;">
    <div class="loader-spinner"></div>
  </div>
  
  <!-- Content Loader Script -->
  <script type="module">
    import { db } from '../../firebase-config.js';
    import { doc, getDoc } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-firestore.js";
    
    // Show/hide loader
    function showLoader() {
      const loaderEl = document.getElementById('loader');
      if (loaderEl) loaderEl.style.display = 'flex';
    }
    function hideLoader() {
      const loaderEl = document.getElementById('loader');
      if (loaderEl) loaderEl.style.display = 'none';
    }
    
    // Load the hakkımızda content from Firestore
    async function loadHakkimizdaContent() {
      showLoader();
      try {
        const docRef = doc(db, 'pages', 'hakkimizda');
        const docSnap = await getDoc(docRef);
        if (docSnap.exists()) {
          const data = docSnap.data();
          
          // HERO
          document.querySelector('.about-hero-title').textContent = data.hero.title;
document.querySelector('.about-hero-subtitle').textContent = data.hero.subtitle;

          
          // STORY
          document.getElementById('story-heading').innerText = data.story.heading;
          document.getElementById('story-content').innerText = data.story.content;
          const storyList = document.getElementById('story-list');
          storyList.innerHTML = '';
          if (data.story.bullets) {
            data.story.bullets.forEach(item => {
              const li = document.createElement('li');
              li.innerText = item;
              storyList.appendChild(li);
            });
          }
          
          // TEAM
          document.getElementById('team-heading').innerText = data.team.heading;
          const teamMembersDiv = document.getElementById('team-members');
          teamMembersDiv.innerHTML = '';
          data.team.members.forEach(member => {
            const memberEl = document.createElement('div');
            memberEl.classList.add('team-row');
            memberEl.innerHTML = `
              <h3>${member.role}</h3>
              <p>${member.name}</p>
            `;
            teamMembersDiv.appendChild(memberEl);
          });
        } else {
          console.error("Hakkımızda dokümanı bulunamadı.");
        }
      } catch (error) {
        console.error("Hakkımızda içeriği yüklenirken hata oluştu: ", error);
      } finally {
        hideLoader();
      }
    }
    
    // Load the page content
    loadHakkimizdaContent();
  </script>
 <script>
  window.addEventListener('scroll', function() {
    const scrollPosition = window.pageYOffset;
    const hero = document.querySelector('.new-hero');
    // The multiplier controls the parallax speed.
    const offset = scrollPosition * 0.5; 
    // This keeps the image centered at 50% and adds a pixel offset as you scroll.
    hero.style.backgroundPosition = `center calc(50% + ${offset}px)`;
  });
</script>

  
  <!-- Kütüphaneler -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  
  <!-- Bileşenler -->
  <script src="components/header/header.js"></script>
  <script type="module" src="components/footer/footer-component.js"></script>
  
  <!-- Sayfaya Özel JS (Three.js Arka Plan ve Story 3D Obje) -->
  <script type="module" src="js/hakkimizda.js"></script>
  
</body>
</html>
